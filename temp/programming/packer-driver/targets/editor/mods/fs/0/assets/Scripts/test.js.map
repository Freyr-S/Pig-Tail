{"version":3,"sources":["file:///C:/NewProject/assets/Scripts/test.ts"],"names":["player1","player2","_decorator","Component","Prefab","Node","tween","Vec3","ccclass","property","level","i","temp","Cards","Tails","turn","p1","p2","Test","type","judge","name","schedule","self2","tail","chidren","removeChild","removeFromParent","spaden","addChild","spadel","spade","heartn","heartl","heart","clubn","clubl","club","diamondn","diamondl","diamond","handcardsn","handcardsl","handcards","to","position","repeat","start","setTimeout","active","getRandomArr","array","Array","sort","Math","random","initCard"],"mappings":";;;mEAwBMA,O,EAmBAC,O;;;;;;;;;;;;;AA1CGC,MAAAA,U,OAAAA,U;AAA2CC,MAAAA,S,OAAAA,S;AAAsCC,MAAAA,M,OAAAA,M;AAAQC,MAAAA,I,OAAAA,I;AAAqCC,MAAAA,K,OAAAA,K;AAAOC,MAAAA,I,OAAAA,I;;;;;;;OAExI;AAAEC,QAAAA,OAAF;AAAWC,QAAAA;AAAX,O,GAAwBP,U;AAE9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;AACIQ,MAAAA,K,GAAM,C;AACNC,MAAAA,C,GAAE,C,EAAC;;AACHC,MAAAA,I,GAAK,C,EAAE;;AACPC,MAAAA,K,GAAa,E,EAAG;;AAChBC,MAAAA,K,GAAa,E,EAAG;;AAChBC,MAAAA,I,GAAY,I,EAAK;;AACff,MAAAA,O,GAAN,MAAMA,OAAN,CAAa;AAAA;AAAA,yCACE,EADF;;AAAA,0CAEG,CAFH;;AAAA;;AAAA,yCAIE,EAJF;;AAAA,0CAKG,CALH;;AAAA;;AAAA,wCAOC,EAPD;;AAAA,yCAQE,CARF;;AAAA;;AAAA,2CAUI,EAVJ;;AAAA,4CAWK,CAXL;;AAAA;;AAAA,6CAaM,EAbN;;AAAA,8CAcO,CAdP;;AAAA;;AAAA,2CAgBH,IAhBG;AAAA,UAgBE;;;AAhBF,O,EAkBb;;AACMC,MAAAA,O,GAAN,MAAMA,OAAN,CAAa;AAAA;AAAA,yCACE,EADF;;AAAA,0CAEG,CAFH;;AAAA;;AAAA,yCAIE,EAJF;;AAAA,0CAKG,CALH;;AAAA;;AAAA,wCAOC,EAPD;;AAAA,yCAQE,CARF;;AAAA;;AAAA,2CAUI,EAVJ;;AAAA,4CAWK,CAXL;;AAAA;;AAAA,6CAaM,EAbN;;AAAA,8CAcO,CAdP;;AAAA;;AAAA,2CAgBH,KAhBG;AAAA,UAgBG;;;AAhBH,O,EAkBb;;AACIe,MAAAA,E,GAAG,IAAIhB,OAAJ,E;AACHiB,MAAAA,E,GAAG,IAAIhB,OAAJ,E;;sBAGMiB,I,WADZV,OAAO,CAAC,MAAD,C,UAYHC,QAAQ,CAAC;AAACU,QAAAA,IAAI,EAACd;AAAN,OAAD,C,UAERI,QAAQ,CAAC;AAACU,QAAAA,IAAI,EAACd;AAAN,OAAD,C,UAERI,QAAQ,CAAC;AAACU,QAAAA,IAAI,EAACf;AAAN,OAAD,C,UAERK,QAAQ,CAAC;AAACU,QAAAA,IAAI,EAACd;AAAN,OAAD,C,UAERI,QAAQ,CAAC;AAACU,QAAAA,IAAI,EAACd;AAAN,OAAD,C,oCApBb,MACaa,IADb,SAC0Bf,SAD1B,CACoC;AAAA;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;;AAAA;AAAA;;AAqB9B;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEIiB,QAAAA,KAAK,GAAE;AACL,cAAGR,IAAI,GAAC,CAAR,EAAU;AACR;AACA,gBAAGE,KAAK,CAACF,IAAI,GAAC,CAAN,CAAL,CAAcS,IAAd,IAAoBP,KAAK,CAACF,IAAD,CAAL,CAAYS,IAAnC,EAAwC;AACtC;AACA,kBAAGN,IAAI,IAAE,IAAT,EAAc;AACZ;AACA,qBAAKO,QAAL,CAAc,YAAU;AACtBR,kBAAAA,KAAK,CAACF,IAAD,CAAL,GAAY,IAAZ;AACA,sBAAIW,KAAK,GAAC,KAAKC,IAAL,CAAUC,OAAV,CAAkBb,IAAlB,CAAV;AACA,uBAAKY,IAAL,CAAUE,WAAV,CAAsBH,KAAtB;AACAA,kBAAAA,KAAK,CAACI,gBAAN;;AA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KAA5B;AACAjB,kBAAAA,KAAK,CAACiB,KAAD,CAAL,CACGqB,EADH,CACM,CADN,EACQ;AAACC,oBAAAA,QAAQ,EAAE,IAAItC,IAAJ,CAAS,EAAT,EAAY,EAAZ,EAAe,CAAf;AAAX,mBADR,EAEGuC,MAFH,CAEU,CAFV,EAGGC,KAHH;AAIAC,kBAAAA,UAAU,CAAC,YAAU;AACnBzB,oBAAAA,KAAK,CAAC0B,MAAN,GAAa,KAAb,CADmB,CACA;AACpB,mBAFS,EAER,IAFQ,CAAV;AAGD,iBArCA,EAqCC,GArCD,EAqCKrC,IAAI,GAAC,CArCV,EAqCY,IArCZ;AAsCF;AACF;AACF;AACF,SA3N+B,CA6NhC;;;AAEAsC,QAAAA,YAAY,GAAW;AACrB,cAAIC,KAAc,GAAC,IAAIC,KAAJ,EAAnB;AACA,cAAIzC,CAAJ;;AACA,eAAIA,CAAC,GAAC,CAAN,EAAQA,CAAC,IAAE,EAAX,EAAcA,CAAC,EAAf,EAAkB;AAChBwC,YAAAA,KAAK,CAACxC,CAAD,CAAL,GAASA,CAAT;AACD;;AACDwC,UAAAA,KAAK,CAACE,IAAN,CAAW,YAAU;AAAC,mBAAO,MAAIC,IAAI,CAACC,MAAL,EAAX;AAA0B,WAAhD;AACA,iBAAOJ,KAAP;AACD,SAvO+B,CAyOhC;AACA;AACA;AACA;AACA;AACA;;;AAEAK,QAAAA,QAAQ,GAAE,CACR;AACA;;AACA;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACK;AACD;;AACE;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEG;;AACCT,QAAAA,KAAK,GAAI,CAEL;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;AAED;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACK,SAhjB+B,CAmjBhC;AACA;AACA;;;AArjBgC,O;;;;;iBAYnB,I;;;;;;;iBAEE,I;;;;;;;iBAEA,I;;;;;;;iBAEK,I;;;;;;;iBAEA,I;;;AAqiBxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\nimport { _decorator,Tween,ColorKey, Animation,Color,Component,director,Canvas,instantiate,Prefab, Node, BatchedSkinningModelComponent, tween, Vec3, repeat, Sprite, CachedArray, math, pingPong } from 'cc';\nimport { Start } from './start';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = Test\n * DateTime = Mon Oct 18 2021 20:53:17 GMT+0800 (中国标准时间)\n * Author = Freyr_S\n * FileBasename = test.ts\n * FileBasenameNoExtension = test\n * URL = db://assets/Scripts/test.ts\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/zh/\n *\n */\n\n//玩家1(1p)\nvar level=0;\nvar i=0//初始化索引\nvar temp=0;//放置区顶部索引\nvar Cards:Node[]=[];//卡组\nvar Tails:Node[]=[];//放置区\nvar turn:string=null;//记录是哪个玩家的回合\nclass player1{\n  spade:Node[]=[];//黑桃组\n  spadel:number=0;//黑桃组索引\n  spaden:Node;//黑桃节点\n  heart:Node[]=[];//红心组\n  heartl:number=0;//红心组索引\n  heartn:Node;//红心节点\n  club:Node[]=[];//梅花组\n  clubl:number=0;//梅花组索引\n  clubn:Node;//梅花节点\n  diamond:Node[]=[];//方块组\n  diamondl:number=0;//方块组索引\n  diamondn:Node;//方块节点\n  handcards:Node[]=[];//卡牌组\n  handcardsl:number=0;//手牌索引\n  handcardsn:Node;//卡牌节点\n  is_turn=true;//玩家1的回合、玩家1首发\n}\n//玩家2(2p)\nclass player2{\n  spade:Node[]=[];//黑桃组\n  spadel:number=0;//黑桃组索引\n  spaden:Node;//黑桃节点\n  heart:Node[]=[];//红心组\n  heartl:number=0;//红心组索引\n  heartn:Node;//红心节点\n  club:Node[]=[];//梅花组\n  clubl:number=0;//梅花组索引\n  clubn:Node;//梅花节点\n  diamond:Node[]=[];//方块组\n  diamondl:number=0;//方块组索引\n  diamondn:Node;//方块节点\n  handcards:Node[]=[];//卡牌组\n  handcardsl:number=0;//手牌索引\n  handcardsn:Node;//卡牌节点\n  is_turn=false;//玩家2的回合\n}\n//实例化玩家\nvar p1=new player1;\nvar p2=new player2;\n\n@ccclass('Test')\nexport class Test extends Component {\n    // [1]\n    // dummy = '';\n\n    // [2]\n    //@property({type:Node})\n    //  public bg_wnode = null;\n    //@property({type:Node})\n    //  public shipnode = null;\n    // serializableDummy = 0;\n    \n    @property({type:Node})\n      private Bg=null;\n    @property({type:Node})\n      private tail=null;\n    @property({type:Prefab})\n      private Back=null;\n    @property({type:Node})\n      private timenode1=null;\n    @property({type:Node})\n      private timenode2=null;\n      /*\n    @property({type:Prefab})\n      private poker1 = null;\n    @property({type:Prefab})\n      private poker2 = null; \n    @property({type:Prefab})\n      private poker3 = null; \n    @property({type:Prefab})\n      private poker4 = null; \n    @property({type:Prefab})\n      private poker5 = null; \n    @property({type:Prefab})\n      private poker6 = null; \n    @property({type:Prefab})\n      private poker7 = null; \n    @property({type:Prefab})\n      private poker8 = null; \n    @property({type:Prefab})\n      private poker9 = null; \n    @property({type:Prefab})\n      private poker10 = null; \n    @property({type:Prefab})\n      private poker11 = null; \n    @property({type:Prefab})\n      private poker12 = null; \n    @property({type:Prefab})\n      private poker13 = null; \n    @property({type:Prefab})\n      private poker14 = null; \n    @property({type:Prefab})\n      private poker15 = null; \n    @property({type:Prefab})\n      private poker16 = null; \n    @property({type:Prefab})\n      private poker17 = null; \n    @property({type:Prefab})\n      private poker18 = null; \n    @property({type:Prefab})\n      private poker19 = null; \n    @property({type:Prefab})\n      private poker20 = null; \n    @property({type:Prefab})\n      private poker21 = null; \n    @property({type:Prefab})\n      private poker22 = null; \n    @property({type:Prefab})\n      private poker23 = null; \n    @property({type:Prefab})\n      private poker24 = null; \n    @property({type:Prefab})\n      private poker25 = null; \n    @property({type:Prefab})\n      private poker26 = null; \n    @property({type:Prefab})\n      private poker27 = null; \n    @property({type:Prefab})\n      private poker28 = null; \n    @property({type:Prefab})\n      private poker29 = null; \n    @property({type:Prefab})\n      private poker30 = null; \n    @property({type:Prefab})\n      private poker31 = null; \n    @property({type:Prefab})\n      private poker32 = null; \n    @property({type:Prefab})\n      private poker33 = null; \n    @property({type:Prefab})\n      private poker34 = null; \n    @property({type:Prefab})\n      private poker35 = null; \n    @property({type:Prefab})\n      private poker36 = null; \n    @property({type:Prefab})\n      private poker37 = null; \n    @property({type:Prefab})\n      private poker38 = null; \n    @property({type:Prefab})\n      private poker39 = null; \n    @property({type:Prefab})\n      private poker40 = null; \n    @property({type:Prefab})\n      private poker41 = null;   \n    @property({type:Prefab})\n      private poker42 = null; \n    @property({type:Prefab})\n      private poker43 = null; \n    @property({type:Prefab})\n      private poker44 = null; \n    @property({type:Prefab})\n      private poker45 = null; \n    @property({type:Prefab})\n      private poker46 = null; \n    @property({type:Prefab})\n      private poker47 = null; \n    @property({type:Prefab})\n      private poker48 = null; \n    @property({type:Prefab})\n      private poker49 = null; \n    @property({type:Prefab})\n      private poker50 = null; \n    @property({type:Prefab})\n      private poker51 = null; \n    @property({type:Prefab})\n      private poker52 = null; \n      */\n    \n    judge(){\n      if(temp>0){\n        //如果花色和顶部牌相同\n        if(Tails[temp-1].name==Tails[temp].name){\n          //如果是玩家1的操作\n          if(turn==\"1p\"){\n            //清除放置区\n            this.schedule(function(){\n              Tails[temp]=null;\n              let self2=this.tail.chidren[temp];\n              this.tail.removeChild(self2);\n              self2.removeFromParent();\n              switch(self2.name){\n                case(\"spade\"):{\n                  p1.spaden.addChild=self2;\n                  p1.spadel++;\n                  p1.spade[p1.spadel]=self2;\n                }\n                case(\"heart\"):{\n                  p1.heartn.addChild=self2;\n                  p1.heartl++;\n                  p1.heart[p1.heartl]=self2;\n                }\n                case(\"club\"):{\n                  p1.clubn.addChild=self2;\n                  p1.clubl++;\n                  p1.club[p1.clubl]=self2;\n                }\n                case(\"diamond\"):{\n                  p1.diamondn.addChild=self2;\n                  p1.diamondl++;\n                  p1.diamond[p1.diamondl]=self2;\n                }\n              }\n              p1.handcardsn.addChild=self2;\n              p1.handcardsl++;\n              p1.handcards[p1.handcardsl]=self2;\n              tween(self2)\n                .to(1,{position: new Vec3(693,85,0)})\n                .repeat(1)\n                .start()\n                setTimeout(function(){\n                  self2.active=false;//隐藏该扑克牌\n                },1000)\n            },0.1,temp+1,1200);\n            \n          }\n          //如果是玩家2的操作\n          if(turn==\"2p\"){\n             //清除放置区\n             this.schedule(function(){\n              Tails[temp]=null;\n              let self2=this.tail.chidren[temp];\n              this.tail.removeChild(self2);\n              self2.removeFromParent();\n              switch(self2.name){\n                case(\"spade\"):{\n                  p2.spaden.addChild=self2;\n                  p2.spadel++;\n                  p2.spade[p2.spadel]=self2;\n                }\n                case(\"heart\"):{\n                  p2.heartn.addChild=self2;\n                  p2.heartl++;\n                  p2.heart[p2.heartl]=self2;\n                }\n                case(\"club\"):{\n                  p2.clubn.addChild=self2;\n                  p2.clubl++;\n                  p2.club[p2.clubl]=self2;\n                }\n                case(\"diamond\"):{\n                  p2.diamondn.addChild=self2;\n                  p2.diamondl++;\n                  p2.diamond[p2.diamondl]=self2;\n                }\n              }\n              p1.handcardsn.addChild=self2;\n              p1.handcardsl++;\n              p1.handcards[p2.handcardsl]=self2;\n              tween(self2)\n                .to(1,{position: new Vec3(90,85,0)})\n                .repeat(1)\n                .start()\n              setTimeout(function(){\n                self2.active=false;//隐藏该扑克牌\n              },1000)\n            },0.1,temp+1,1200);\n          }\n        }\n      }\n    }\n\n    //随机打乱数组\n    \n    getRandomArr():number[]{\n      var array:number[]=new Array;\n      let i:number;\n      for(i=1;i<=52;i++){\n        array[i]=i;\n      }\n      array.sort(function(){return 0.5-Math.random();});\n      return array;\n    }\n    \n    //暂停运行代码\n    //sleep(d:number){\n    //    var t=Date.now();\n    //    while(Date.now()-t<=d);\n    //}\n    //初始化卡牌组\n    \n    initCard(){\n      //let j:number;\n      //var array:number[]=new Array;\n      /*\n      array=this.getRandomArr();\n      for(j=1;j<=52;j++){\n        //var node:Node=instantiate(this.poker);\n        //node.getComponent(\"Prefab\").SpritFrame=new SpriteFrame()\n        //var pfront:Node = node.getComponent('front').SpriteFrame;\n        //pfront.cc.Sprite\n        var i=array[j];\n        var name:String;\n        //黑桃\n        if(i>=1&&i<=13){\n          //let node:Node=instantiate(this.poker_spade);\n          name=\"spade\";\n        }\n        //红心\n        if(i>=14&&i<=26){\n          //let node:Node=instantiate(this.poker_heart);\n          name=\"heart\";\n        }\n        //梅花\n        if(i>=27&&i<=39){\n          //var node:Node=instantiate(this.poker_club);\n          name=\"club\";\n        }\n        //方块\n        if(i>=40&&i<=52){\n          //var node:Node=instantiate(this.poker_diamond);\n          name=\"diamond\";\n        }\n        //实例化预制体\n        switch(name){\n          case \"spade\":{\n            var node:Node;\n            node.name=\"spade\";\n            switch(i){\n              case 1:{\n                node=instantiate(this.poker1);\n              }\n              case 2:{\n                node=instantiate(this.poker2);\n              }\n              case 3:{\n                node=instantiate(this.poker3);\n              }\n              case 4:{\n                node=instantiate(this.poker4);\n              }\n              case 5:{\n                node=instantiate(this.poker5);\n              }\n              case 6:{\n                node=instantiate(this.poker6);\n              }\n              case 7:{\n                node=instantiate(this.poker7);\n              }\n              case 8:{\n                node=instantiate(this.poker8);\n              }\n              case 9:{\n                node=instantiate(this.poker9);\n              }\n              case 10:{\n                node=instantiate(this.poker10);\n              }\n              case 11:{\n                node=instantiate(this.poker11);\n              }\n              case 12:{\n                node=instantiate(this.poker12);\n              }\n              case 13:{\n                node=instantiate(this.poker13);\n              }\n            break;\n            }\n          }\n          case \"heart\":{\n            var node:Node;\n            node.name=\"heart\";\n            switch(i){\n              case 14:{\n                node=instantiate(this.poker14);\n              }\n              case 15:{\n                node=instantiate(this.poker15);\n              }\n              case 16:{\n                node=instantiate(this.poker16);\n              }\n              case 17:{\n                node=instantiate(this.poker17);\n              }\n              case 18:{\n                node=instantiate(this.poker18);\n              }\n              case 19:{\n                node=instantiate(this.poker19);\n              }\n              case 20:{\n                node=instantiate(this.poker20);\n              }\n              case 21:{\n                node=instantiate(this.poker21);\n              }\n              case 22:{\n                node=instantiate(this.poker22);\n              }\n              case 23:{\n                node=instantiate(this.poker23);\n              }\n              case 24:{\n                node=instantiate(this.poker24);\n              }\n              case 25:{\n                node=instantiate(this.poker25);\n              }\n              case 26:{\n                node=instantiate(this.poker26);\n              }\n            break;\n            }\n          }\n          case \"club\":{\n            var node:Node;\n            node.name=\"club\";\n            switch(i){\n              case 27:{\n                node=instantiate(this.poker27);\n              }\n              case 28:{\n                node=instantiate(this.poker28);\n              }\n              case 29:{\n                node=instantiate(this.poker29);\n              }\n              case 30:{\n                node=instantiate(this.poker30);\n              }\n              case 31:{\n                node=instantiate(this.poker31);\n              }\n              case 32:{\n                node=instantiate(this.poker32);\n              }\n              case 33:{\n                node=instantiate(this.poker33);\n              }\n              case 34:{\n                node=instantiate(this.poker34);\n              }\n              case 35:{\n                node=instantiate(this.poker35);\n              }\n              case 36:{\n                node=instantiate(this.poker36);\n              }\n              case 37:{\n                node=instantiate(this.poker37);\n              }\n              case 38:{\n                node=instantiate(this.poker38);\n              }\n              case 39:{\n                node=instantiate(this.poker39);\n              }\n            break;\n            }\n          }\n          case \"diamond\":{\n            var node:Node;\n            node.name=\"diamond\";\n            switch(i){\n              case 40:{\n                node=instantiate(this.poker40);\n              }\n              case 41:{\n                node=instantiate(this.poker41);\n              }\n              case 42:{\n                node=instantiate(this.poker42);\n              }\n              case 43:{\n                node=instantiate(this.poker43);\n              }\n              case 44:{\n                node=instantiate(this.poker44);\n              }\n              case 45:{\n                node=instantiate(this.poker45);\n              }\n              case 46:{\n                node=instantiate(this.poker46);\n              }\n              case 47:{\n                node=instantiate(this.poker47);\n              }\n              case 48:{\n                node=instantiate(this.poker48);\n              }\n              case 49:{\n                node=instantiate(this.poker49);\n              }\n              case 50:{\n                node=instantiate(this.poker50);\n              }\n              case 51:{\n                node=instantiate(this.poker51);\n              }\n              case 52:{\n                node=instantiate(this.poker52);\n              }\n            break;\n            }\n          }\n        }\n        this.Bg.addChild(node);\n        node.parent=this.Bg;\n        node.setPosition(0+114.4*Math.cos(Math.PI/2+Math.PI*(0.03846)*j),9.244+114.4*Math.sin(Math.PI/2+Math.PI*(0.03846)*j));\n        node.setScale(0.3,0.3);\n        node.setRotationFromEuler(0,0,6.923*j);\n        node.active=true;\n        Cards[j]=node;\n      }\n      */\n     //for(var i=0;i<52;i++)\n    // {\n      /*\n      this.schedule(function() {\n      let card:Node = instantiate(this.Back);\n      //将牌添加到背景上\n      this.Bg.addChild(card);\n      card.parent=this.Bg;\n      //设置每张牌的初始位置、大小、旋转角度\n      card.setPosition(0+114.4*Math.cos(Math.PI/2+Math.PI*(0.03846)*i),9.244+114.4*Math.sin(Math.PI/2+Math.PI*(0.03846)*i));\n      card.setScale(0.37,0.37);\n      card.setRotationFromEuler(0,0,6.923*i);\n      Cards[i]=card;//同时将牌记录到卡组\n      //注册扑克牌点击事件\n      card.on(Node.EventType.TOUCH_END,(event)=>{\n          //将被点击的牌添加到放置区\n          card.removeFromParent();\n          this.tail.addChild=card;\n          card.parent=this.tail;\n          Tails[temp]=card;\n          //实现翻牌、牌的移动\n          let anim=card.getComponent(Animation);\n          anim.play('turn_over1');\n          setTimeout(()=>{\n            let self1=card.children[0];\n            self1.active=true;\n            anim.play('turn_over2');\n            tween(card)\n              .to(1,{position:new Vec3(0,0,0)})\n              .repeat(1)\n              .start()\n        },100);\n        //关闭点击事件，即每张牌只能点击一次\n          card.pauseSystemEvents(true);\n          this.judge();//判断花色是否和顶部牌花色相同\n          temp++;\n      },card); \n      i=i+1;\n        }, 0.03, 52, 0);\n     //}\n     level=level+1;\n    }\n    //游戏结束\n    gameover(len1:number,len2:number){\n      //玩家1获胜，玩家2失败\n      if(len1<len2)\n      {\n        director.loadScene(\"result1\");\n      }\n      //玩家1失败，玩家2获胜\n      if(len1>len2){\n        director.loadScene(\"result2\");\n      }\n    }\n    \n*/\n  }\n    start () {\n      \n        // [3]\n        //var level=0;\n        //初始化\n        //setTimeout(()=>{this.bg_wnode.active=false;\n        //    this.shipnode.active=false;},4500);\n        //while(level==0){};\n        \n        //setTimeout(()=>{\n        //  this.initCard();\n        //},5500);\n        \n       /*\n       this.initCard();\n       while(level==0){};\n       //游戏开始\n       while(1){\n         if(Cards.length==0)\n         {\n          this.gameover(p1.handcards.length,p2.handcards.length);\n         }\n         //玩家1的回合\n         if(p1.is_turn&&!(p2.is_turn)){\n           this.timenode1.startTime1();//开始倒计时\n           while(p1.is_turn&&!(p2.is_turn)){}\n          continue;\n         }\n         //玩家2的回合\n         if(p2.is_turn&&!(p1.is_turn)){\n           this.timenode2.startTime2();//开始倒计时\n           while(p2.is_turn&&!(p1.is_turn)){}\n         }\n       }\n       */\n    }\n    \n\n    // update (deltaTime: number) {\n    //     // [4]\n    // }\n  }\n\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/zh/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/zh/scripting/ccclass.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/zh/scripting/life-cycle-callbacks.html\n */\n"]}