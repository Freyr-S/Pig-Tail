{"version":3,"sources":["file:///C:/NewProject/assets/Scripts/battle-pp.ts"],"names":["_decorator","Component","Prefab","Animation","Vec3","tween","instantiate","Node","ccclass","property","BattlePp","type","Array","getRandomArr","array","i","initCard","namep","schedule","tag","card","poker1","poker2","poker3","poker4","poker5","poker6","poker7","poker8","poker9","poker10","poker11","poker12","poker31","poker14","poker15","poker16","poker17","poker18","poker19","poker20","poker21","poker22","poker23","poker24","poker25","poker26","poker27","poker28","poker29","poker32","poker33","poker34","poker35","poker36","poker37","poker38","poker39","poker40","poker41","poker42","poker43","poker44","poker45","poker46","poker47","poker48","poker49","poker50","poker51","poker52","name","Bg","addChild","parent","setPosition","Math","cos","PI","sin","setScale","setRotationFromEuler","Cards","on","EventType","TOUCH_END","event","removeFromParent","tail","Tails","temp","anim","getComponent","play","setTimeout","self1","children","active","to","position","repeat","start","pauseSystemEvents","bg_wnode","shipnode"],"mappings":";;;;;;;;;;;;;;;;;;;;;;AACSA,MAAAA,U,OAAAA,U;AAAWC,MAAAA,S,OAAAA,S;AAAWC,MAAAA,M,OAAAA,M;AAAOC,MAAAA,S,OAAAA,S;AAAUC,MAAAA,I,OAAAA,I;AAAKC,MAAAA,K,OAAAA,K;AAAMC,MAAAA,W,OAAAA,W;AAAYC,MAAAA,I,OAAAA,I;;;;;;;AAC/DC,MAAAA,O,GAAsBR,U,CAAtBQ,O;AAASC,MAAAA,Q,GAAaT,U,CAAbS,Q;AAEjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACaC,MAAAA,Q,WAvCZF,OAAO,CAAC,UAAD,C,UAkDHC,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACJ;AAAN,OAAD,C,UAERE,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACJ;AAAN,OAAD,C,UAGRE,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACJ;AAAN,OAAD,C,UAERE,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACJ;AAAN,OAAD,C,UAERE,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,UAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,UAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,UAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C,WAERO,QAAQ,CAAC;AAACE,QAAAA,IAAI,EAACT;AAAN,OAAD,C;;;;;;;;;;;;iEAtHG,C;;kEACU,IAAIU,KAAJ,E;;kEACF,E;;kEACA,E;;iEACD,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqHnB;eACAC,Y,GAAA,wBAAuB;AACrB,cAAIC,KAAc,GAAC,IAAIF,KAAJ,EAAnB;AACA,cAAIG,CAAJ;;AACA,eAAIA,CAAC,GAAC,CAAN,EAAQA,CAAC,IAAE,EAAX,EAAcA,CAAC,EAAf,EAAkB;AAChBD,YAAAA,KAAK,CAACC,CAAC,GAAC,CAAH,CAAL,GAAWA,CAAX;AACD,WALoB,CAMrB;;;AACA,iBAAOD,KAAP;AACD,S,CACD;;;eACAE,Q,GAAA,oBAAU;AACR,cAAID,CAAC,GAAC,CAAN,CADQ,CAER;;AACA,cAAIE,KAAK,GAAC,CAAV;AACA,eAAKH,KAAL,GAAW,KAAKD,YAAL,EAAX,CAJQ,CAIuB;;AAC/B,eAAKK,QAAL,CAAc,YAAW;AAAA;;AACrB;AACJ;AACE,gBAAIC,GAAG,GAAC,KAAKL,KAAL,CAAWC,CAAX,CAAR,CAHuB,CAIvB;AACA;;AACA,gBAAGI,GAAG,IAAE,CAAL,IAAQA,GAAG,IAAE,EAAhB,EAAmB;AACjBF,cAAAA,KAAK,GAAC,CAAN;AACD,aARsB,CASvB;;;AACA,gBAAGE,GAAG,IAAE,EAAL,IAASA,GAAG,IAAE,EAAjB,EAAoB;AAClBF,cAAAA,KAAK,GAAC,CAAN;AACD,aAZsB,CAavB;;;AACA,gBAAGE,GAAG,IAAE,EAAL,IAASA,GAAG,IAAE,EAAjB,EAAoB;AAClBF,cAAAA,KAAK,GAAC,CAAN;AACD,aAhBsB,CAiBvB;;;AACA,gBAAGE,GAAG,IAAE,EAAL,IAASA,GAAG,IAAE,EAAjB,EAAoB;AAClBF,cAAAA,KAAK,GAAC,CAAN;AACD,aApBsB,CAqBvB;;;AACA,oBAAOE,GAAP;AACI,mBAAK,CAAL;AACI,oBAAIC,IAAS,GAACd,WAAW,CAAC,KAAKe,MAAN,CAAzB;AACA;;AACJ,mBAAK,CAAL;AACI,oBAAID,IAAS,GAACd,WAAW,CAAC,KAAKgB,MAAN,CAAzB;AACA;;AACJ,mBAAK,CAAL;AACI,oBAAIF,IAAS,GAACd,WAAW,CAAC,KAAKiB,MAAN,CAAzB;AACA;;AACJ,mBAAK,CAAL;AACI,oBAAIH,IAAS,GAACd,WAAW,CAAC,KAAKkB,MAAN,CAAzB;AACA;;AACJ,mBAAK,CAAL;AACI,oBAAIJ,IAAS,GAACd,WAAW,CAAC,KAAKmB,MAAN,CAAzB;AACA;;AACJ,mBAAK,CAAL;AACI,oBAAIL,IAAS,GAACd,WAAW,CAAC,KAAKoB,MAAN,CAAzB;AACA;;AACJ,mBAAK,CAAL;AACI,oBAAIN,IAAS,GAACd,WAAW,CAAC,KAAKqB,MAAN,CAAzB;AACA;;AACJ,mBAAK,CAAL;AACI,oBAAIP,IAAS,GAACd,WAAW,CAAC,KAAKsB,MAAN,CAAzB;AACA;;AACJ,mBAAK,CAAL;AACI,oBAAIR,IAAS,GAACd,WAAW,CAAC,KAAKuB,MAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIT,IAAS,GAACd,WAAW,CAAC,KAAKwB,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIV,IAAS,GAACd,WAAW,CAAC,KAAKyB,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIX,IAAS,GAACd,WAAW,CAAC,KAAK0B,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIZ,IAAS,GAACd,WAAW,CAAC,KAAK2B,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIb,IAAS,GAACd,WAAW,CAAC,KAAK4B,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAId,IAAS,GAACd,WAAW,CAAC,KAAK6B,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIf,IAAS,GAACd,WAAW,CAAC,KAAK8B,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIhB,IAAS,GAACd,WAAW,CAAC,KAAK+B,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIjB,IAAS,GAACd,WAAW,CAAC,KAAKgC,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIlB,IAAS,GAACd,WAAW,CAAC,KAAKiC,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAInB,IAAS,GAACd,WAAW,CAAC,KAAKkC,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIpB,IAAS,GAACd,WAAW,CAAC,KAAKmC,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIrB,IAAS,GAACd,WAAW,CAAC,KAAKoC,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAItB,IAAS,GAACd,WAAW,CAAC,KAAKqC,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIvB,IAAS,GAACd,WAAW,CAAC,KAAKsC,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIxB,IAAS,GAACd,WAAW,CAAC,KAAKuC,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIzB,IAAS,GAACd,WAAW,CAAC,KAAKwC,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAI1B,IAAS,GAACd,WAAW,CAAC,KAAKyC,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAI3B,IAAS,GAACd,WAAW,CAAC,KAAK0C,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAI5B,IAAS,GAACd,WAAW,CAAC,KAAK2C,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAI7B,IAAS,GAACd,WAAW,CAAC,KAAK2B,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIb,IAAS,GAACd,WAAW,CAAC,KAAK2B,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIb,IAAS,GAACd,WAAW,CAAC,KAAK4C,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAI9B,IAAS,GAACd,WAAW,CAAC,KAAK6C,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAI/B,IAAS,GAACd,WAAW,CAAC,KAAK8C,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIhC,IAAS,GAACd,WAAW,CAAC,KAAK+C,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIjC,IAAS,GAACd,WAAW,CAAC,KAAKgD,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIlC,IAAS,GAACd,WAAW,CAAC,KAAKiD,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAInC,IAAS,GAACd,WAAW,CAAC,KAAKkD,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIpC,IAAS,GAACd,WAAW,CAAC,KAAKmD,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIrC,IAAS,GAACd,WAAW,CAAC,KAAKoD,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAItC,IAAS,GAACd,WAAW,CAAC,KAAKqD,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIvC,IAAS,GAACd,WAAW,CAAC,KAAKsD,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIxC,IAAS,GAACd,WAAW,CAAC,KAAKuD,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIzC,IAAS,GAACd,WAAW,CAAC,KAAKwD,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAI1C,IAAS,GAACd,WAAW,CAAC,KAAKyD,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAI3C,IAAS,GAACd,WAAW,CAAC,KAAK0D,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAI5C,IAAS,GAACd,WAAW,CAAC,KAAK2D,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAI7C,IAAS,GAACd,WAAW,CAAC,KAAK4D,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAI9C,IAAS,GAACd,WAAW,CAAC,KAAK6D,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAI/C,IAAS,GAACd,WAAW,CAAC,KAAK8D,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIhD,IAAS,GAACd,WAAW,CAAC,KAAK+D,OAAN,CAAzB;AACA;;AACJ,mBAAK,EAAL;AACI,oBAAIjD,IAAS,GAACd,WAAW,CAAC,KAAKgE,OAAN,CAAzB;AACA;AA5JR,aAtBuB,CAqLzB;;;AACA,oBAAOrD,KAAP;AACE,mBAAK,CAAL;AACIG,gBAAAA,IAAI,CAACmD,IAAL,GAAU,OAAV;AACA;;AACJ,mBAAK,CAAL;AACInD,gBAAAA,IAAI,CAACmD,IAAL,GAAU,OAAV;AACA;;AACJ,mBAAK,CAAL;AACInD,gBAAAA,IAAI,CAACmD,IAAL,GAAU,MAAV;AACA;;AACJ,mBAAK,CAAL;AACInD,gBAAAA,IAAI,CAACmD,IAAL,GAAU,SAAV;AACA;AAZN,aAtLyB,CAoMzB;;;AACA,iBAAKC,EAAL,CAAQC,QAAR,CAAiBrD,IAAjB;AACAA,YAAAA,IAAI,CAACsD,MAAL,GAAY,KAAKF,EAAjB,CAtMyB,CAuMzB;;AACApD,YAAAA,IAAI,CAACuD,WAAL,CAAiB,IAAE,QAAMC,IAAI,CAACC,GAAL,CAASD,IAAI,CAACE,EAAL,GAAQ,CAAR,GAAUF,IAAI,CAACE,EAAL,GAAS,OAAT,GAAkB/D,CAArC,CAAzB,EAAiE,QAAM,QAAM6D,IAAI,CAACG,GAAL,CAASH,IAAI,CAACE,EAAL,GAAQ,CAAR,GAAUF,IAAI,CAACE,EAAL,GAAS,OAAT,GAAkB/D,CAArC,CAA7E;AACAK,YAAAA,IAAI,CAAC4D,QAAL,CAAc,IAAd,EAAmB,IAAnB;AACA5D,YAAAA,IAAI,CAAC6D,oBAAL,CAA0B,CAA1B,EAA4B,CAA5B,EAA8B,QAAMlE,CAApC;AACA,iBAAKmE,KAAL,CAAWnE,CAAX,IAAcK,IAAd,CA3MyB,CA2MN;AACnB;;AACAA,YAAAA,IAAI,CAAC+D,EAAL,CAAQ5E,IAAI,CAAC6E,SAAL,CAAeC,SAAvB,EAAiC,UAACC,KAAD,EAAS;AACtC;AACAlE,cAAAA,IAAI,CAACmE,gBAAL;AACA,cAAA,MAAI,CAACC,IAAL,CAAUf,QAAV,GAAmBrD,IAAnB;AACAA,cAAAA,IAAI,CAACsD,MAAL,GAAY,MAAI,CAACc,IAAjB;AACA,cAAA,MAAI,CAACC,KAAL,CAAW,MAAI,CAACC,IAAhB,IAAsBtE,IAAtB,CALsC,CAMtC;;AACA,kBAAIuE,IAAI,GAACvE,IAAI,CAACwE,YAAL,CAAkBzF,SAAlB,CAAT;AACAwF,cAAAA,IAAI,CAACE,IAAL,CAAU,YAAV;AACAC,cAAAA,UAAU,CAAC,YAAI;AACb,oBAAIC,KAAK,GAAC3E,IAAI,CAAC4E,QAAL,CAAc,CAAd,CAAV;AACAD,gBAAAA,KAAK,CAACE,MAAN,GAAa,IAAb;AACAN,gBAAAA,IAAI,CAACE,IAAL,CAAU,YAAV;AACAxF,gBAAAA,KAAK,CAACe,IAAD,CAAL,CACG8E,EADH,CACM,CADN,EACQ;AAACC,kBAAAA,QAAQ,EAAC,IAAI/F,IAAJ,CAAS,CAAT,EAAW,CAAX,EAAa,CAAb;AAAV,iBADR,EAEGgG,MAFH,CAEU,CAFV,EAGGC,KAHH;AAIH,eARW,EAQV,GARU,CAAV,CATsC,CAkBxC;;AACEjF,cAAAA,IAAI,CAACkF,iBAAL,CAAuB,IAAvB;AACD,aApBH,EAoBIlF,IApBJ;AAqBEL,YAAAA,CAAC,GAACA,CAAC,GAAC,CAAJ;AACC,WAnOH,EAmOK,IAnOL,EAmOW,EAnOX,EAmOe,GAnOf,EALQ,CAyOT;AACA,S;;eAEDsF,K,GAAA,iBAAS;AAAA;;AACL;AACA;AACAP,UAAAA,UAAU,CAAC,YAAI;AAAC,YAAA,MAAI,CAACS,QAAL,CAAcN,MAAd,GAAqB,KAArB;AACZ,YAAA,MAAI,CAACO,QAAL,CAAcP,MAAd,GAAqB,KAArB;AAA4B,WADtB,EACuB,IADvB,CAAV;AAEA,eAAKjF,QAAL;AACH,S,CAED;AACA;AACA;;;;QAhY0Bf,S;;;;;iBAYN,I;;;;;;;iBAEA,I;;;;;;;iBAGP,I;;;;;;;iBAEE,I;;;;;;;iBAEI,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEC,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEA,I;;;;;;;iBAEL,I;;;AAsQnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["\nimport { _decorator,Component, Prefab,Animation,Vec3,tween,instantiate,Node, SliderComponent } from 'cc';\nconst { ccclass, property } = _decorator;\n\n/**\n * Predefined variables\n * Name = BattlePp\n * DateTime = Sat Oct 23 2021 01:14:15 GMT+0800 (中国标准时间)\n * Author = Freyr_S\n * FileBasename = battle-pp.ts\n * FileBasenameNoExtension = battle-pp\n * URL = db://assets/Scripts/battle-pp.ts\n * ManualUrl = https://docs.cocos.com/creator/3.3/manual/zh/\n *\n */\n \n@ccclass('BattlePp')\n/*\nexport class player1{\n    spade:Node[]=[];//黑桃组\n    spadel:number=0;//黑桃组索引\n    spaden:Node;//黑桃节点\n    heart:Node[]=[];//红心组\n    heartl:number=0;//红心组索引\n    heartn:Node;//红心节点\n    club:Node[]=[];//梅花组\n    clubl:number=0;//梅花组索引\n    clubn:Node;//梅花节点\n    diamond:Node[]=[];//方块组\n    diamondl:number=0;//方块组索引\n    diamondn:Node;//方块节点\n    handcards:Node[]=[];//卡牌组\n    handcardsl:number=0;//手牌索引\n    handcardsn:Node;//卡牌节点\n    is_turn=true;//玩家1的回合、玩家1首发\n    }\n  export class player2{\n      spade:Node[]=[];//黑桃组\n      spadel:number=0;//黑桃组索引\n      spaden:Node;//黑桃节点\n      heart:Node[]=[];//红心组\n      heartl:number=0;//红心组索引\n      heartn:Node;//红心节点\n      club:Node[]=[];//梅花组\n      clubl:number=0;//梅花组索引\n      clubn:Node;//梅花节点\n      diamond:Node[]=[];//方块组\n      diamondl:number=0;//方块组索引\n      diamondn:Node;//方块节点\n      handcards:Node[]=[];//卡牌组\n      handcardsl:number=0;//手牌索引\n      handcardsn:Node;//卡牌节点\n      is_turn=false;//玩家2的回合,玩家2不是首发\n    }\n    */\nexport class BattlePp extends Component {\n    // [1]\n    // dummy = '';\n    // [2]\n    // @property\n    // serializableDummy = 0;\n    public temp=0;//放置区顶部索引,即顶部指针\n    public array:number[]=new Array;\n    public Cards:Node[]=[];//卡组\n    public Tails:Node[]=[];//放置区\n    public turn:number=1;//记录是哪个玩家的回合，1：玩家1，2：玩家2\n    @property({type:Node})\n      public bg_wnode = null;\n    @property({type:Node})\n      public shipnode = null;\n    // serializableDummy = 0;\n    @property({type:Node})\n      private Bg=null;\n    @property({type:Node})\n      private tail=null;\n    @property({type:Prefab})\n      private poker1 = null;\n    @property({type:Prefab})\n      private poker2 = null; \n    @property({type:Prefab})\n      private poker3 = null; \n    @property({type:Prefab})\n      private poker4 = null; \n    @property({type:Prefab})\n      private poker5 = null; \n    @property({type:Prefab})\n      private poker6 = null; \n    @property({type:Prefab})\n      private poker7 = null; \n    @property({type:Prefab})\n      private poker8 = null; \n    @property({type:Prefab})\n      private poker9 = null; \n    @property({type:Prefab})\n      private poker10 = null; \n    @property({type:Prefab})\n      private poker11 = null; \n    @property({type:Prefab})\n      private poker12 = null; \n    @property({type:Prefab})\n      private poker13 = null; \n    @property({type:Prefab})\n      private poker14 = null; \n    @property({type:Prefab})\n      private poker15 = null; \n    @property({type:Prefab})\n      private poker16 = null; \n    @property({type:Prefab})\n      private poker17 = null; \n    @property({type:Prefab})\n      private poker18 = null; \n    @property({type:Prefab})\n      private poker19 = null; \n    @property({type:Prefab})\n      private poker20 = null; \n    @property({type:Prefab})\n      private poker21 = null; \n    @property({type:Prefab})\n      private poker22 = null; \n    @property({type:Prefab})\n      private poker23 = null; \n    @property({type:Prefab})\n      private poker24 = null; \n    @property({type:Prefab})\n      private poker25 = null; \n    @property({type:Prefab})\n      private poker26 = null; \n    @property({type:Prefab})\n      private poker27 = null; \n    @property({type:Prefab})\n      private poker28 = null; \n    @property({type:Prefab})\n      private poker29 = null; \n    @property({type:Prefab})\n      private poker30 = null; \n    @property({type:Prefab})\n      private poker31 = null; \n    @property({type:Prefab})\n      private poker32 = null; \n    @property({type:Prefab})\n      private poker33 = null; \n    @property({type:Prefab})\n      private poker34 = null; \n    @property({type:Prefab})\n      private poker35 = null; \n    @property({type:Prefab})\n      private poker36 = null; \n    @property({type:Prefab})\n      private poker37 = null; \n    @property({type:Prefab})\n      private poker38 = null; \n    @property({type:Prefab})\n      private poker39 = null; \n    @property({type:Prefab})\n      private poker40 = null; \n    @property({type:Prefab})\n      private poker41 = null;   \n    @property({type:Prefab})\n      private poker42 = null; \n    @property({type:Prefab})\n      private poker43 = null; \n    @property({type:Prefab})\n      private poker44 = null; \n    @property({type:Prefab})\n      private poker45 = null; \n    @property({type:Prefab})\n      private poker46 = null; \n    @property({type:Prefab})\n      private poker47 = null; \n    @property({type:Prefab})\n      private poker48 = null; \n    @property({type:Prefab})\n      private poker49 = null; \n    @property({type:Prefab})\n      private poker50 = null; \n    @property({type:Prefab})\n      private poker51 = null; \n    @property({type:Prefab})\n      private poker52 = null; \n    @property({type:Prefab})\n      private back=null;\n\n    //随机打乱数组\n    getRandomArr():number[]{\n      var array:number[]=new Array;\n      let i:number;\n      for(i=1;i<=52;i++){\n        array[i-1]=i;\n      }\n      //array.sort(function(){return 0.5-Math.random();});\n      return array;\n    }\n    //初始化卡牌组\n    initCard(){\n      var i=0;\n      //var j=1;\n      var namep=0;\n      this.array=this.getRandomArr();//生成随机标签1-52\n      this.schedule(function() {\n          //var card:Node=instantiate(this.back);\n      //实例化扑克牌\n        var tag=this.array[i];\n        //var name:String;\n        //黑桃\n        if(tag>=1&&tag<=13){\n          namep=0;\n        }\n        //红心\n        if(tag>=14&&tag<=26){\n          namep=1;\n        }\n        //梅花\n        if(tag>=27&&tag<=39){\n          namep=2;\n        }\n        //方块\n        if(tag>=40&&tag<=52){\n          namep=3;\n        }\n        //根据标签实例化预制体\n        switch(tag){\n            case 1:\n                var card:Node=instantiate(this.poker1);\n                break;\n            case 2:\n                var card:Node=instantiate(this.poker2);\n                break;\n            case 3:\n                var card:Node=instantiate(this.poker3);\n                break;\n            case 4:\n                var card:Node=instantiate(this.poker4);\n                break;\n            case 5:\n                var card:Node=instantiate(this.poker5);\n                break;\n            case 6:\n                var card:Node=instantiate(this.poker6);\n                break;\n            case 7:\n                var card:Node=instantiate(this.poker7);\n                break;\n            case 8:\n                var card:Node=instantiate(this.poker8);\n                break;\n            case 9:\n                var card:Node=instantiate(this.poker9);\n                break;\n            case 10:\n                var card:Node=instantiate(this.poker10);\n                break;\n            case 11:\n                var card:Node=instantiate(this.poker11);\n                break;\n            case 12:\n                var card:Node=instantiate(this.poker12);\n                break;\n            case 13:\n                var card:Node=instantiate(this.poker31);\n                break;\n            case 14:\n                var card:Node=instantiate(this.poker14);\n                break;\n            case 15:\n                var card:Node=instantiate(this.poker15);\n                break;\n            case 16:\n                var card:Node=instantiate(this.poker16);\n                break;\n            case 17:\n                var card:Node=instantiate(this.poker17);\n                break;\n            case 18:\n                var card:Node=instantiate(this.poker18);\n                break;\n            case 19:\n                var card:Node=instantiate(this.poker19);\n                break;\n            case 20:\n                var card:Node=instantiate(this.poker20);\n                break;\n            case 21:\n                var card:Node=instantiate(this.poker21);\n                break;\n            case 22:\n                var card:Node=instantiate(this.poker22);\n                break;\n            case 23:\n                var card:Node=instantiate(this.poker23);\n                break;\n            case 24:\n                var card:Node=instantiate(this.poker24);\n                break;\n            case 25:\n                var card:Node=instantiate(this.poker25);\n                break;\n            case 26:\n                var card:Node=instantiate(this.poker26);\n                break;\n            case 27:\n                var card:Node=instantiate(this.poker27);\n                break;\n            case 28:\n                var card:Node=instantiate(this.poker28);\n                break;\n            case 29:\n                var card:Node=instantiate(this.poker29);\n                break;\n            case 30:\n                var card:Node=instantiate(this.poker31);\n                break;\n            case 31:\n                var card:Node=instantiate(this.poker31);\n                break;\n            case 32:\n                var card:Node=instantiate(this.poker32);\n                break;\n            case 33:\n                var card:Node=instantiate(this.poker33);\n                break;\n            case 34:\n                var card:Node=instantiate(this.poker34);\n                break;\n            case 35:\n                var card:Node=instantiate(this.poker35);\n                break;\n            case 36:\n                var card:Node=instantiate(this.poker36);\n                break;\n            case 37:\n                var card:Node=instantiate(this.poker37);\n                break;\n            case 38:\n                var card:Node=instantiate(this.poker38);\n                break;\n            case 39:\n                var card:Node=instantiate(this.poker39);\n                break;\n            case 40:\n                var card:Node=instantiate(this.poker40);\n                break;\n            case 41:\n                var card:Node=instantiate(this.poker41);\n                break;\n            case 42:\n                var card:Node=instantiate(this.poker42);\n                break;\n            case 43:\n                var card:Node=instantiate(this.poker43);\n                break;\n            case 44:\n                var card:Node=instantiate(this.poker44);\n                break;\n            case 45:\n                var card:Node=instantiate(this.poker45);\n                break;\n            case 46:\n                var card:Node=instantiate(this.poker46);\n                break;\n            case 47:\n                var card:Node=instantiate(this.poker47);\n                break;\n            case 48:\n                var card:Node=instantiate(this.poker48);\n                break;\n            case 49:\n                var card:Node=instantiate(this.poker49);\n                break;\n            case 50:\n                var card:Node=instantiate(this.poker50);\n                break;\n            case 51:\n                var card:Node=instantiate(this.poker51);\n                break;\n            case 52:\n                var card:Node=instantiate(this.poker52);\n                break;\n            \n        }\n      //给节点标注花色\n      switch(namep){\n        case 0:\n            card.name=\"spade\";\n            break;\n        case 1:\n            card.name=\"heart\";\n            break;\n        case 2:\n            card.name=\"club\";\n            break;\n        case 3:\n            card.name=\"diamond\";\n            break;\n  }\n      //将牌添加到背景上\n      this.Bg.addChild(card);\n      card.parent=this.Bg;\n      //设置每张牌的初始位置、大小、旋转角度\n      card.setPosition(0+114.4*Math.cos(Math.PI/2+Math.PI*(0.03846)*i),9.244+114.4*Math.sin(Math.PI/2+Math.PI*(0.03846)*i));\n      card.setScale(0.37,0.37);\n      card.setRotationFromEuler(0,0,6.923*i);\n      this.Cards[i]=card;//同时将牌记录到卡组\n      //注册扑克牌点击事件\n      card.on(Node.EventType.TOUCH_END,(event)=>{\n          //将被点击的牌添加到放置区\n          card.removeFromParent();\n          this.tail.addChild=card;\n          card.parent=this.tail;\n          this.Tails[this.temp]=card;\n          //实现翻牌、牌的移动\n          let anim=card.getComponent(Animation);\n          anim.play('turn_over1');\n          setTimeout(()=>{\n            let self1=card.children[0];\n            self1.active=true;\n            anim.play('turn_over2');\n            tween(card)\n              .to(1,{position:new Vec3(0,0,0)})\n              .repeat(1)\n              .start()\n        },100);\n        //关闭点击事件，即每张牌只能点击一次\n          card.pauseSystemEvents(true);\n        },card); \n        i=i+1;\n        }, 0.03, 51, 5.5);\n     //}\n    }\n\n    start () {\n        // [3]\n        //初始化\n        setTimeout(()=>{this.bg_wnode.active=false;\n            this.shipnode.active=false;},4500);\n        this.initCard();\n    }\n\n    // update (deltaTime: number) {\n    //     // [4]\n    // }\n}\n\n/**\n * [1] Class member could be defined like this.\n * [2] Use `property` decorator if your want the member to be serializable.\n * [3] Your initialization goes here.\n * [4] Your update function goes here.\n *\n * Learn more about scripting: https://docs.cocos.com/creator/3.3/manual/zh/scripting/\n * Learn more about CCClass: https://docs.cocos.com/creator/3.3/manual/zh/scripting/ccclass.html\n * Learn more about life-cycle callbacks: https://docs.cocos.com/creator/3.3/manual/zh/scripting/life-cycle-callbacks.html\n */\n"]}